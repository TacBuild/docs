---
title: Types & Structures
description: Types & Structures for TAC-SDK
---

<Info>
  For more up-to-date information, please refer to the [TAC SDK GitHub
  repository](https://github.com/TacBuild/tac-sdk).
</Info>

### `Network (Enum)`
Represents TON network type you want to use.
```typescript
export enum Network {
    TESTNET = 'TESTNET',
    MAINNET = 'MAINNET'
}
```

- **`TESTNET`**: Represents the testnet TON network.
- **`MAINNET`**: Represents the mainnet TON network.


### `SDKParams (Type)`
```typescript
export type SDKParams = {
    network: Network;
    delay?: number;
    TACParams?: TACParams;
    TONParams?: TONParams;
    customLiteSequencerEndpoints?: string[];
}
```

Parameters for SDK:
- **`network`**: Specifies TON network (`Network` type).
- **`delay`** *(optional)*: Delay (in seconds) for requests to the TON client. Default is *0*.
- **`TACParams`** *(optional)*: Custom parameters for TAC side
- **`TONParams`** *(optional)*: Custom parameters for TON side
- **`customLiteSequencerEndpoints`** *(optional)*: Custom lite sequencer endpoints for API access.


### `TONParams (Type)`
```typescript
export type TONParams = {
    contractOpener?: ContractOpener;
    settingsAddress?: string;
}
```
TON Parameters for SDK:
- **`contractOpener`** *(optional)*: Client used for TON smart contract interaction. Default is `orbsOpener4`. Set for tests only 
- **`settingsAddress`** *(optional)*: TON settings contract address. Needed to retrieve protocol data. Set for tests only


### `TACParams (Type)`
```typescript
export type TACParams = {
    provider?: AbstractProvider;
    settingsAddress?: string | Addressable;  
    settingsABI?: Interface | InterfaceAbi;
    crossChainLayerABI?: Interface | InterfaceAbi;
    crossChainLayerTokenABI?: Interface | InterfaceAbi;
    crossChainLayerTokenBytecode?: string;
}
```

TAC Parameters for SDK:
- **`provider`** *(optional)*: Provider used for TAC smart contract interaction. Set for increasing rate limit or tests only
- **`settingsAddress`** *(optional)*: TAC settings contract address. Needed to retrieve protocol data. Set for tests only
- **`settingsABI`** *(optional)*: TAC settings contract ABI. Set for tests only 
- **`crossChainLayerABI`** *(optional)*: TAC CCL contract ABI. Set for tests only
- **`crossChainLayerTokenABI`** *(optional)*: TAC CCL Token contract ABI. Set for tests only
- **`crossChainLayerTokenBytecode`** *(optional)*: TAC CCL Token contract bytecode. Set for tests only


### `EvmProxyMsg (Type)`
```typescript
export type EvmProxyMsg = {
    evmTargetAddress: string,
    methodName?: string,
    encodedParameters?: string,
    gasLimit?: bigint,
}
```
Represents a proxy message to a TAC.
- **`evmTargetAddress`**: Target address on the EVM network.
- **`methodName`** *(optional)*: Method name to be called on the target contract. Either method name `MethodName` or signature `MethodName(bytes,bytes)` must be specified (strictly (bytes,bytes)).
- **`encodedParameters`** *(optional)*: Parameters for the method, encoded as a string.
- **`gasLimit`** *(optional)*: `gasLimit` is a parameter that will be passed on the TAC side. The executor must allocate at least gasLimit gas for executing the transaction on the TAC side. If this parameter is not specified, it will be calculated using the `simulateTACMessage` method(prefered).

This structure defines the logic you want to execute on the TAC side. This message is sent along with all the sharded messages related to the jetton bridging, enabling the TAC to process the intended logic on the TAC side during the crosschain transaction.


### `AssetBridgingData (Type)`

This structure is used to specify the details of the Assets you want to bridge for your operation. This allows you to precisely control the tokens and amounts involved in your crosschain transaction.

```typescript
export type WithAddress = {
    /**
     * Address of TAC or TON token.
     * Empty if sending native TON coin.
     */
    address?: string;
};

export type RawAssetBridgingData = {
    /** Raw format, e.g. 12340000000 (=12.34 tokens if decimals is 9) */
    rawAmount: bigint;
} & WithAddress;

export type UserFriendlyAssetBridgingData = {
    /**
     * User friendly format, e.g. 12.34 tokens 
     * Specified value will be converted automatically to raw format: 12.34 * (10^decimals).
     * No decimals should be specified.
     */
    amount: number;
    /**
     * Decimals may be specified manually.
     * Otherwise, SDK tries to extract them from chain.
     */
    decimals?: number;
} & WithAddress;

export type AssetBridgingData = RawAssetBridgingData | UserFriendlyAssetBridgingData;
```

Represents general data for Asset operations.
- **`rawAmount`** *(required if `amount` is not specified): Amount of Assets to be transferred taking into account the number of decimals.
- **`amount`** *(required if `rawAmount` is not specified): Amount of Assets to be transferred.
- **`decimals`** *(optional)*: Number of decimals for the asset. If not specified, the SDK will attempt to extract the decimals from the chain.
- **`address`** *(optional)*: TVM or EVM asset's address.

> **Note:** If you need to transfer a native TON coin, do not specify address.


### `TransactionLinker (Type)`
```typescript
export type TransactionLinker = {
    caller: string,
    shardCount: number,
    shardsKey: string,
    timestamp: number,
    sendTransactionResult?: unknown,
}
```
Linker to track TON transaction for crosschain operation.
- **`caller`**: Address of the transaction initiator.
- **`shardCount`**: Number of shards involved.
- **`shardsKey`**: Identifier for the shard.
- **`timestamp`**: Timestamp of the transaction.
- **`sendTransactionResult`** *(optional)*: Result of sending transaction. May be used to check result of sending transaction. Default TonClient does NOT fill this field. However, in unit tests @ton/sandbox set transaction result object to this field.

This structure is designed to help track the entire execution path of a operation across all levels. By using it, you can identify the `operationId` and subsequently monitor the operation status through a public API. This is particularly useful for ensuring visibility and transparency in the operation lifecycle, allowing you to verify its progress and outcome.


### `SimplifiedStatuses (Enum)`
```typescript
export enum SimplifiedStatuses {
    PENDING = 'PENDING',
    FAILED = 'FAILED',
    SUCCESSFUL = 'SUCCESSFUL',
    OPERATION_ID_NOT_FOUND = 'OPERATION_ID_NOT_FOUND',
}
```
Represents the simplified operation statuses.
- **`PENDING`**: The operation in progress.
- **`FAILED`**: The operation has failed.
- **`SUCCESSFUL`**: The operation was executed successfully.
- **`OPERATION_ID_NOT_FOUND`**: The operation ID was not found.


### `ContractOpener (Interface)`

The ContractOpener interface provides methods to interact with smart contracts on the TON network. It allows opening contracts for interaction and retrieving contract states.
```typescript
export interface ContractOpener {
    open<T extends Contract>(src: T): OpenedContract<T> | SandboxContract<T>;
  
    getContractState(address: Address): Promise<{
      balance: bigint;
      state: 'active' | 'uninitialized' | 'frozen';
      code: Buffer | null;
    }>;
}
```


### `TACSimulationRequest`

```typescript
export type TACSimulationRequest = {
    tacCallParams: {
        arguments: string;
        methodName: string;
        target: string;
    };
    extraData: string;
    feeAssetAddress: string;
    shardsKey: number;
    tonAssets: {
        amount: string;
        tokenAddress: string;
    }[];
    tonCaller: string;
};
```

Represents a request to simulate an TAC message.

- **`tacCallParams`**: An object containing parameters for the TAC call.
  - **`arguments`**: Encoded arguments for the TAC method.
  - **`methodName`**: Name of the method to be called on the target TAC contract.
  - **`target`**: The target address on the TAC network.
- **`extraData`**: Additional non-root data to be included in TAC call.
- **`feeAssetAddress`**: Address of the asset used to cover fees; empty string if using native TON.
- **`shardsKey`**: Key identifying shards for the operation.
- **`tonAssets`**: An array of assets involved in the transaction.
  - **`amount`**: Amount of the asset to be transferred.
  - **`tokenAddress`**: Address of the token.
- **`tonCaller`**: Address of the caller in the TON.


### `BlockchainType`

```typescript
export enum BlockchainType {
    TAC = 'TAC',
    TON = 'TON',
}
```

Represents blockchain type.


### `TransactionData`

```typescript
export type TransactionData = {
    hash: string;
    blockchainType: BlockchainType;
};
```

Represents transaction details.
- **`hash`**: The hash of the transaction.
- **`blockchainType`**: The type of the blockchain (`TON` or `TAC`).


### `NoteInfo`

```typescript
export type NoteInfo = {
    content: string;
    errorName: string;
    internalMsg: string;
    internalBytesError: string;
};
```

Provides detailed information about any notes or errors encountered during operation processing.

- **`content`**: Content of the note.
- **`errorName`**: Name of the error.
- **`internalMsg`**: Internal message related to the note or error.
- **`internalBytesError`**: Detailed bytes error information.


### `StageName`

```typescript
export enum StageName {
    COLLECTED_IN_TAC = 'COLLECTED_IN_TAC',
    INCLUDED_IN_TAC_CONSENSUS = 'INCLUDED_IN_TAC_CONSENSUS',
    EXECUTED_IN_TAC = 'EXECUTED_IN_TAC',
    COLLECTED_IN_TON = 'COLLECTED_IN_TON',
    INCLUDED_IN_TON_CONSENSUS = 'INCLUDED_IN_TON_CONSENSUS',
    EXECUTED_IN_TON = 'EXECUTED_IN_TON',
}
```

Represents stage in TAC protocol.


### `StageData`

```typescript
export type StageData = {
    success: boolean;
    timestamp: number;
    transactions: TransactionData[] | null;
    note: NoteInfo | null;
};
```

Represents data for a specific stage of operation execution.

#### **Properties**

- **`success`**: Indicates whether the stage was successful.
- **`timestamp`**: Timestamp of when the stage was executed.
- **`transactions`** *(optional)*: Array of transaction data related to the stage. `null` if none.
- **`note`** *(optional)*: Additional notes or errors related to the stage. `null` if none.


### `StatusInfo`

```typescript
export type StatusInfo = StageData & {
    stage: StageName;
};
```

Combines `StageData` with an additional stage identifier.

- **`stage`**: Current stage in `StageName` enum.
- **Other Properties from `StageData`**


### `OperationType`

```typescript
export enum OperationType {
	PENDING     = "PENDING",
	TON_TAC_TON = "TON-TAC-TON",
	ROLLBACK    = "ROLLBACK",
	TON_TAC     = "TON-TAC",
	TAC_TON     = "TAC-TON",
	UNKNOWN     = "UNKNOWN",
}
```

Provides information about transaction.

- **`PENDING`**: The transaction is still processing and has not yet reached a final state.
- **`TON_TAC_TON`**:  
  The transaction succeeded fully:  
  - Executed on **TAC** (successfully interacted with dapp)
  - Processed a `roundTrip` message (e.g., a cross-chain callback - bridging back received assets).
- **`ROLLBACK`**: The transaction failed on TAC, and funds were rolled back to their original on TON (e.g., tokens returned to the sender).
- **`TON_TAC`**: The transaction was fully executed on TAC. (successfully interacted with dapp or assets were bridged)
- **`TAC_TON`**: The cross-chain bridge operation from TAC to TON has completed successfully (e.g., tokens bridged to TON).
- **`UNKNOWN`**: The status could not be determined (e.g., due to network errors, invalid operation ID, or outdated data).


### `ProfilingStageData`

```typescript
export type ProfilingStageData = {
    exists: boolean;
    stageData: StageData | null;
};

```

Provides profiling information for a specific stage.

- **`exists`**: Indicates whether profiling data exists for the stage.
- **`stageData`** *(optional)*: Detailed data of the stage. `null` if none.


### `ExecutionStages`

```typescript
export type ExecutionStages = {
  operationType: OperationType;
} & Record<StageName, ProfilingStageData>;

```

Represents the profiling data for all execution stages within an operation.
- **`operationType`**.
- **`COLLECTED_IN_TAC`**.
- **`INCLUDED_IN_TAC_CONSENSUS`**.
- **`EXECUTED_IN_TAC`**.
- **`COLLECTED_IN_TON`**.
- **`INCLUDED_IN_TON_CONSENSUS`**.
- **`EXECUTED_IN_TON`**.


### `ExecutionStagesByOperationId`

```typescript
export type ExecutionStagesByOperationId = Record<string, ExecutionStages>;
```

Maps each `operationId` to its respective `executionStages`.


### `StatusInfosByOperationId`

```typescript
export type StatusInfosByOperationId = Record<string, StatusInfo>;
```

Maps each `operationId` to its respective `statusInfo`.


### `OperationIdsByShardsKeyResponse`

Maps each `operationId[]` to its respective `shardsKey`.


### `UserWalletBalanceExtended`

Provides extended information about a user's Jetton balance.

#### **Union Types**

- **If the Jetton wallet exists:**
  ```typescript
  {
      exists: true;
      amount: number;       // The formatted balance of the Jetton token.
      rawAmount: bigint;    // The raw balance of the Jetton token.
      decimals: number;     // The number of decimals for the Jetton token.
  }
  ```

- **If the Jetton wallet does not exist:**
  ```typescript
  {
      exists: false;
  }
  ```


- **`exists`**: Indicates whether the Jetton wallet exists.
- **`amount`** *(optional)*: The formatted balance of the Jetton token. Present only if `exists` is `true`.
- **`rawAmount`** *(optional)*: The raw balance of the Jetton token. Present only if `exists` is `true`.
- **`decimals`** *(optional)*: The number of decimals for the Jetton token. Present only if `exists` is `true`.


### `TACSimulationResults`

```typescript
export type TACSimulationResults = {
    estimatedGas: bigint;
    estimatedJettonFeeAmount: string;
    feeParams: {
      currentBaseFee: string;
      isEip1559: boolean;
      suggestedGasPrice: string;
      suggestedGasTip: string;
    };
    message: string;
    outMessages:
            | {
      callerAddress: string;
      operationId: string;
      payload: string;
      queryId: number;
      targetAddress: string;
      tokensBurned: {
        amount: string;
        tokenAddress: string;
      }[];
      tokensLocked: {
        amount: string;
        tokenAddress: string;
      }[];
    }[]
            | null;
    simulationError: string;
    simulationStatus: boolean;
    debugInfo: {
      from: string;
      to: string;
      callData: string;
      blockNumber: number;
    };
};
```
Provides TAC simulation results.

  - **`estimatedGas`**: The estimated gas required for the message.
  - **`estimatedJettonFeeAmount`**: The estimated fee amount in Jettons.
  - **`feeParams`**: The parameters related to the fee.
    - **`currentBaseFee`**: The current base fee.
    - **`isEip1559`**: Indicates if EIP-1559 is applied.
    - **`suggestedGasPrice`**: The suggested gas price.
    - **`suggestedGasTip`**: The suggested gas tip.
  - **`message`**: The message details.
  - **`outMessages`** *(optional)*: The outgoing messages. Maybe `null` if there is a bridge operation.
    - **`callerAddress`**: The address of the caller.
    - **`operationId`**: The operation ID.
    - **`payload`**: The payload.
    - **`queryId`**: The query ID.
    - **`targetAddress`**: The target address.
    - **`tokensBurned`**: The tokens burned.
      - **`amount`**: The amount of tokens burned.
      - **`tokenAddress`**: The address of the token.
    - **`tokensLocked`**: The tokens locked.
  - **`simulationError`**: Any error encountered during the simulation.
  - **`simulationStatus`**: The status of the simulation.
  - **`debugInfo`**: Debugging information.
    - **`from`**: The sender address.
    - **`to`**: The recipient address.
    - **`callData`**: The call data.
    - **`blockNumber`**: The block number.
---
